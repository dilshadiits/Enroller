(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96704,e=>{"use strict";var s=e.i(43476),t=e.i(71645);function a(){let[e,a]=(0,t.useState)([]),[l,d]=(0,t.useState)(!0),[i,c]=(0,t.useState)("ALL");(0,t.useEffect)(()=>{r()},[]);let r=async()=>{try{let e=await fetch("/api/leads");if(e.ok){let s=await e.json();a(s.leads)}}catch(e){console.error("Failed to fetch leads:",e)}finally{d(!1)}},n="ALL"===i?e:e.filter(e=>e.status===i);return l?(0,s.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,s.jsx)("div",{className:"spinner"})}):(0,s.jsxs)("div",{className:"fade-in",children:[(0,s.jsx)("div",{className:"page-header flex-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"page-title",children:"My Leads"}),(0,s.jsx)("p",{className:"page-subtitle",children:"All leads you have collected"})]})}),(0,s.jsx)("div",{className:"flex gap-sm",style:{marginBottom:"var(--spacing-xl)",flexWrap:"wrap"},children:["ALL","NEW","CONTACTED","INTERESTED","ENROLLED","CLOSED","LOST"].map(e=>(0,s.jsx)("button",{className:`btn btn-sm ${i===e?"btn-primary":"btn-secondary"}`,onClick:()=>c(e),children:e},e))}),(0,s.jsx)("div",{className:"card",children:0===n.length?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"empty-state-icon",children:"ðŸ“‹"}),(0,s.jsxs)("p",{children:["No leads found ","ALL"!==i?`with status "${i}"`:""]})]}):(0,s.jsx)("div",{className:"table-container",children:(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Student Name"}),(0,s.jsx)("th",{children:"Phone"}),(0,s.jsx)("th",{children:"Course"}),(0,s.jsx)("th",{children:"Center"}),(0,s.jsx)("th",{children:"Fee"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Date"})]})}),(0,s.jsx)("tbody",{children:n.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("div",{style:{fontWeight:500},children:e.studentName}),e.email&&(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:e.email})]}),(0,s.jsx)("td",{children:e.phone}),(0,s.jsx)("td",{children:e.course?.name||"N/A"}),(0,s.jsx)("td",{style:{color:"var(--primary-light)"},children:e.center?.name||"N/A"}),(0,s.jsxs)("td",{children:["â‚¹",e.course?.fee?.toLocaleString()||"N/A"]}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:`badge badge-${e.status.toLowerCase()}`,children:e.status})}),(0,s.jsx)("td",{style:{color:"var(--text-muted)"},children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]})})}),(0,s.jsxs)("div",{className:"grid grid-4",style:{marginTop:"var(--spacing-xl)"},children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",children:e.filter(e=>"NEW"===e.status).length}),(0,s.jsx)("div",{className:"stat-label",children:"New"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",children:e.filter(e=>"INTERESTED"===e.status).length}),(0,s.jsx)("div",{className:"stat-label",children:"Interested"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",children:e.filter(e=>["ENROLLED","CLOSED"].includes(e.status)).length}),(0,s.jsx)("div",{className:"stat-label",children:"Converted"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",children:e.filter(e=>"LOST"===e.status).length}),(0,s.jsx)("div",{className:"stat-label",children:"Lost"})]})]})]})}e.s(["default",()=>a])}]);