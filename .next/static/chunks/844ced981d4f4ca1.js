(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87062,e=>{"use strict";var s=e.i(43476),t=e.i(71645);function i(){let[e,i]=(0,t.useState)([]),[r,a]=(0,t.useState)([]),[l,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{c()},[]);let c=async()=>{try{let[e,s]=await Promise.all([fetch("/api/courses"),fetch("/api/leads")]);if(e.ok){let s=await e.json();i(s.courses)}if(s.ok){let e=await s.json();a(e.leads)}}catch(e){console.error("Failed to fetch data:",e)}finally{d(!1)}},n=(e,s)=>e.filter(e=>e.status===s).length,o=r.length,v=e.filter(e=>e.isActive).length;return l?(0,s.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,s.jsx)("div",{className:"spinner"})}):(0,s.jsxs)("div",{className:"fade-in",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h1",{className:"page-title",children:"Your Courses"}),(0,s.jsx)("p",{className:"page-subtitle",children:"View courses assigned to your center and their lead statistics"})]}),(0,s.jsxs)("div",{className:"grid grid-3",style:{marginBottom:"var(--spacing-xl)"},children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",children:e.length}),(0,s.jsx)("div",{className:"stat-label",children:"Total Courses"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",style:{color:"var(--secondary)"},children:v}),(0,s.jsx)("div",{className:"stat-label",children:"Active Courses"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",style:{color:"var(--primary-light)"},children:o}),(0,s.jsx)("div",{className:"stat-label",children:"Total Leads"})]})]}),(0,s.jsx)("div",{className:"grid grid-2",children:e.map(e=>{let t,i=(t=e.id,r.filter(e=>e.courseId===t)),a=n(i,"NEW"),l=n(i,"ENROLLED")+n(i,"CLOSED"),d=i.length>0?(l/i.length*100).toFixed(1):0;return(0,s.jsxs)("div",{className:"card",style:{borderTop:`3px solid ${e.isActive?"var(--secondary)":"var(--text-muted)"}`},children:[(0,s.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,s.jsx)("h3",{style:{fontSize:"1.25rem"},children:e.name}),(0,s.jsx)("span",{className:`badge ${e.isActive?"badge-enrolled":"badge-lost"}`,children:e.isActive?"Active":"Inactive"})]}),(0,s.jsx)("p",{style:{fontSize:"0.875rem",marginBottom:"var(--spacing-lg)",color:"var(--text-secondary)"},children:e.description||"No description available"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"var(--spacing-md)",padding:"var(--spacing-md)",background:"var(--bg-tertiary)",borderRadius:"var(--radius-md)",marginBottom:"var(--spacing-lg)"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Course Fee"}),(0,s.jsxs)("div",{style:{fontWeight:600,color:"var(--secondary)"},children:["â‚¹",e.fee.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Agent Commission"}),(0,s.jsxs)("div",{style:{fontWeight:600},children:[e.commissionPercent,"%"]})]})]}),(0,s.jsxs)("div",{style:{padding:"var(--spacing-md)",background:"linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(6, 182, 212, 0.1))",borderRadius:"var(--radius-md)",border:"1px solid var(--border-color)"},children:[(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"var(--spacing-sm)",fontWeight:500},children:"Lead Statistics"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"var(--spacing-sm)",textAlign:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--primary-light)"},children:i.length}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Total"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--accent)"},children:a}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"New"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--success)"},children:l}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Enrolled"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--secondary)"},children:[d,"%"]}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)"},children:"Conv."})]})]})]})]},e.id)})}),0===e.length&&(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"empty-state-icon",children:"ðŸ“š"}),(0,s.jsx)("p",{children:"No courses assigned to your center yet."}),(0,s.jsx)("p",{style:{fontSize:"0.875rem",color:"var(--text-muted)"},children:"Contact an admin to add courses to your center."})]})})]})}e.s(["default",()=>i])}]);