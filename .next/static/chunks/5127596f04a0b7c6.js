(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72906,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(22016);function l(){let[e,l]=(0,a.useState)([]),[i,r]=(0,a.useState)([]),[n,d]=(0,a.useState)([]),[c,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{h()},[]);let h=async()=>{try{let[e,s,a]=await Promise.all([fetch("/api/leads"),fetch("/api/payouts"),fetch("/api/users")]);if(e.ok){let s=await e.json();l(s.leads)}if(s.ok){let e=await s.json();r(e.payouts)}if(a.ok){let e=await a.json();d(e.users)}}catch(e){console.error("Failed to fetch data:",e)}finally{o(!1)}},m=s=>e.filter(e=>e.status===s).length,g=i.filter(e=>"REQUESTED"===e.status),v=g.reduce((e,s)=>e+s.totalAmount,0),x=n.filter(e=>"AGENT"===e.role).length,u=n.filter(e=>"CENTER"===e.role).length;return c?(0,s.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,s.jsx)("div",{className:"spinner"})}):(0,s.jsxs)("div",{className:"fade-in",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h1",{className:"page-title",children:"Admin Dashboard"}),(0,s.jsx)("p",{className:"page-subtitle",children:"System overview and management"})]}),(0,s.jsxs)("div",{className:"grid grid-4",style:{marginBottom:"var(--spacing-xl)"},children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",children:e.length}),(0,s.jsx)("div",{className:"stat-label",children:"Total Leads"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",style:{color:"var(--primary-light)"},children:x}),(0,s.jsx)("div",{className:"stat-label",children:"Active Agents"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",style:{color:"var(--secondary)"},children:u}),(0,s.jsx)("div",{className:"stat-label",children:"Training Centers"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",style:{color:"var(--accent)"},children:g.length}),(0,s.jsx)("div",{className:"stat-label",children:"Pending Payouts"})]})]}),g.length>0&&(0,s.jsxs)("div",{className:"alert alert-warning",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("span",{children:["âš ï¸ You have ",(0,s.jsxs)("strong",{children:[g.length," payout requests"]})," totaling ",(0,s.jsxs)("strong",{children:["â‚¹",v.toLocaleString()]})]}),(0,s.jsx)(t.default,{href:"/admin/payouts",className:"btn btn-primary btn-sm",children:"Review Payouts"})]}),(0,s.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"2fr 1fr",gap:"var(--spacing-xl)"},children:[(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"card-header",children:[(0,s.jsx)("h3",{className:"card-title",children:"Lead Pipeline"}),(0,s.jsx)(t.default,{href:"/admin/leads",className:"btn btn-secondary btn-sm",children:"View All"})]}),(0,s.jsxs)("div",{className:"grid grid-3",style:{gap:"var(--spacing-md)"},children:[(0,s.jsxs)("div",{style:{padding:"var(--spacing-md)",background:"rgba(99, 102, 241, 0.1)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--primary-light)"},children:m("NEW")}),(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"NEW"})]}),(0,s.jsxs)("div",{style:{padding:"var(--spacing-md)",background:"rgba(245, 158, 11, 0.1)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--accent)"},children:m("CONTACTED")+m("INTERESTED")}),(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"IN PROGRESS"})]}),(0,s.jsxs)("div",{style:{padding:"var(--spacing-md)",background:"rgba(16, 185, 129, 0.1)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--secondary)"},children:m("ENROLLED")+m("CLOSED")}),(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"CONVERTED"})]})]}),(0,s.jsxs)("div",{style:{marginTop:"var(--spacing-lg)"},children:[(0,s.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-muted)",marginBottom:"var(--spacing-sm)"},children:"Conversion Rate"}),(0,s.jsx)("div",{className:"progress-bar",style:{height:"12px"},children:(0,s.jsx)("div",{className:"progress-fill",style:{width:e.length>0?`${(m("ENROLLED")+m("CLOSED"))/e.length*100}%`:"0%"}})}),(0,s.jsxs)("div",{style:{textAlign:"right",marginTop:"var(--spacing-xs)",fontSize:"0.875rem",fontWeight:600},children:[e.length>0?((m("ENROLLED")+m("CLOSED"))/e.length*100).toFixed(1):0,"%"]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{className:"card-title",style:{marginBottom:"var(--spacing-lg)"},children:"Quick Actions"}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[(0,s.jsx)(t.default,{href:"/admin/users",className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ‘¥ Manage Users"}),(0,s.jsx)(t.default,{href:"/admin/payouts",className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ’³ Process Payouts"}),(0,s.jsx)(t.default,{href:"/admin/courses",className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ“š Manage Courses"}),(0,s.jsx)(t.default,{href:"/admin/leads",className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ“‹ View All Leads"})]})]})]})]})}e.s(["default",()=>l])}]);