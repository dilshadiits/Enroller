(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75031,e=>{"use strict";var s=e.i(43476),r=e.i(71645);let a=[{value:"online_degree",label:"Online Degree",icon:"ðŸŽ“"},{value:"credit_transfer",label:"Credit Transfer",icon:"ðŸ”„"},{value:"skill_course",label:"Skill Course",icon:"ðŸ’¡"},{value:"vocational",label:"Vocational",icon:"ðŸ› ï¸"}];function i(){let[e,i]=(0,r.useState)([]),[t,l]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[o,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),[p,v]=(0,r.useState)(!1),[h,x]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[j,f]=(0,r.useState)({name:"",description:"",courseType:"",fee:"",commissionPercent:"",centerId:"",isActive:!0});(0,r.useEffect)(()=>{b(),N()},[]);let b=async()=>{try{let e=await fetch("/api/courses");if(e.ok){let s=await e.json();i(s.courses)}}catch(e){console.error("Failed to fetch courses:",e)}finally{c(!1)}},N=async()=>{try{let e=await fetch("/api/centers");if(e.ok){let s=await e.json();l(s.centers)}}catch(e){console.error("Failed to fetch centers:",e)}},C=()=>{u(null),f({name:"",description:"",courseType:"",fee:"",commissionPercent:"",centerId:"",isActive:!0}),x(""),d(!0)},T=e=>{let{name:s,value:r,type:a}=e.target;f(i=>({...i,[s]:"checkbox"===a?e.target.checked:r}))},A=async e=>{e.preventDefault(),x(""),y(""),v(!0);try{let e=m?`/api/courses/${m.id}`:"/api/courses",s=m?"PUT":"POST",r=await fetch(e,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify({...j,fee:Number(j.fee),commissionPercent:Number(j.commissionPercent)})}),a=await r.json();if(!r.ok)throw Error(a.error||"Operation failed");y(m?`Course "${j.name}" updated successfully!`:`Course "${j.name}" created successfully!`),d(!1),u(null),b(),setTimeout(()=>y(""),3e3)}catch(e){x(e instanceof Error?e.message:"Operation failed")}finally{v(!1)}},S=async e=>{if(confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`))try{let s=await fetch(`/api/courses/${e.id}`,{method:"DELETE"}),r=await s.json();if(!s.ok)throw Error(r.error||"Failed to delete course");y(`Course "${e.name}" deleted successfully!`),b(),setTimeout(()=>y(""),3e3)}catch(e){x(e instanceof Error?e.message:"Failed to delete course"),setTimeout(()=>x(""),3e3)}},k=async e=>{try{if(!(await fetch(`/api/courses/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})})).ok)throw Error("Failed to update course");b()}catch(e){x(e instanceof Error?e.message:"Failed to update course"),setTimeout(()=>x(""),3e3)}},w=e.reduce((e,s)=>e+s.fee,0);return n?(0,s.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,s.jsx)("div",{className:"spinner"})}):(0,s.jsxs)("div",{className:"fade-in",children:[(0,s.jsx)("div",{className:"page-header",children:(0,s.jsxs)("div",{className:"flex-between",style:{alignItems:"flex-start"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"page-title",children:"Course Management"}),(0,s.jsx)("p",{className:"page-subtitle",children:"View and manage available courses"})]}),(0,s.jsx)("button",{className:"btn btn-primary ripple",onClick:C,children:"+ Add Course"})]})}),g&&(0,s.jsxs)("div",{className:"alert alert-success",style:{marginBottom:"var(--spacing-lg)"},children:["âœ“ ",g]}),h&&!o&&(0,s.jsxs)("div",{className:"alert alert-error",style:{marginBottom:"var(--spacing-lg)"},children:["âœ• ",h]}),(0,s.jsxs)("div",{className:"grid grid-4",style:{marginBottom:"var(--spacing-xl)"},children:[(0,s.jsxs)("div",{className:"stat-card hover-pop",children:[(0,s.jsx)("div",{className:"stat-value",children:e.length}),(0,s.jsx)("div",{className:"stat-label",children:"Total Courses"})]}),(0,s.jsxs)("div",{className:"stat-card hover-pop",children:[(0,s.jsx)("div",{className:"stat-value",style:{color:"var(--secondary)"},children:e.filter(e=>e.isActive).length}),(0,s.jsx)("div",{className:"stat-label",children:"Active Courses"})]}),(0,s.jsxs)("div",{className:"stat-card hover-pop",children:[(0,s.jsxs)("div",{className:"stat-value",children:["â‚¹",(w/e.length||0).toLocaleString()]}),(0,s.jsx)("div",{className:"stat-label",children:"Avg. Course Fee"})]}),(0,s.jsxs)("div",{className:"stat-card hover-pop",children:[(0,s.jsx)("div",{className:"stat-value",style:{color:"var(--accent)"},children:new Set(e.map(e=>e.courseType)).size}),(0,s.jsx)("div",{className:"stat-label",children:"Course Types"})]})]}),(0,s.jsx)("div",{className:"grid grid-3",children:e.map(e=>{let r,i=(r=e.courseType,a.find(e=>e.value===r)||{value:r,label:r,icon:"ðŸ“š"});return(0,s.jsxs)("div",{className:"card hover-lift",style:{borderTop:`3px solid ${e.isActive?"var(--secondary)":"var(--text-muted)"}`},children:[(0,s.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,s.jsx)("h3",{style:{fontSize:"1.125rem"},children:e.name}),(0,s.jsx)("span",{className:`badge ${e.isActive?"badge-enrolled":"badge-lost"}`,children:e.isActive?"Active":"Inactive"})]}),(0,s.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.75rem",background:"var(--bg-tertiary)",borderRadius:"var(--radius-full)",fontSize:"0.75rem",marginBottom:"var(--spacing-md)"},children:[(0,s.jsx)("span",{children:i.icon}),(0,s.jsx)("span",{children:i.label})]}),(0,s.jsx)("p",{style:{fontSize:"0.875rem",marginBottom:"var(--spacing-lg)",color:"var(--text-secondary)"},children:e.description||"No description available"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"var(--spacing-md)",padding:"var(--spacing-md)",background:"var(--bg-tertiary)",borderRadius:"var(--radius-md)",marginBottom:"var(--spacing-lg)"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Fee"}),(0,s.jsxs)("div",{style:{fontWeight:600,color:"var(--secondary)"},children:["â‚¹",e.fee.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Commission"}),(0,s.jsxs)("div",{style:{fontWeight:600},children:[e.commissionPercent,"%"]})]}),(0,s.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Center"}),(0,s.jsxs)("div",{style:{fontWeight:500,color:"var(--primary-light)"},children:["ðŸ¢ ",e.center?.name||"N/A"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-sm",children:[(0,s.jsx)("button",{onClick:()=>{u(e),f({name:e.name,description:e.description||"",courseType:e.courseType||"",fee:String(e.fee),commissionPercent:String(e.commissionPercent),centerId:e.center?.id||"",isActive:e.isActive}),x(""),d(!0)},className:"btn btn-sm btn-secondary",style:{flex:1},children:"âœï¸ Edit"}),(0,s.jsx)("button",{onClick:()=>k(e),className:`btn btn-sm ${e.isActive?"btn-secondary":"btn-success"}`,title:e.isActive?"Deactivate":"Activate",children:e.isActive?"â¸ï¸":"â–¶ï¸"}),(0,s.jsx)("button",{onClick:()=>S(e),className:"btn btn-sm btn-danger",title:"Delete Course",children:"ðŸ—‘ï¸"})]})]},e.id)})}),0===e.length&&(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"empty-state-icon",children:"ðŸ“š"}),(0,s.jsx)("p",{children:"No courses available"}),(0,s.jsx)("button",{className:"btn btn-primary",style:{marginTop:"var(--spacing-md)"},onClick:C,children:"+ Add Your First Course"})]})}),o&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>d(!1),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"650px"},children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:m?"Edit Course":"Add New Course"}),(0,s.jsx)("button",{className:"modal-close",onClick:()=>d(!1),children:"Ã—"})]}),h&&(0,s.jsx)("div",{className:"alert alert-error",children:h}),(0,s.jsxs)("form",{onSubmit:A,children:[(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"name",children:"Course Name *"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:j.name,onChange:T,placeholder:"Enter course name",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"centerId",children:"Center *"}),(0,s.jsxs)("select",{id:"centerId",name:"centerId",value:j.centerId,onChange:T,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select a center"}),t.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Course Type *"}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"var(--spacing-sm)",marginTop:"var(--spacing-sm)"},children:a.map(e=>(0,s.jsxs)("div",{onClick:()=>f({...j,courseType:e.value}),style:{padding:"var(--spacing-md)",border:j.courseType===e.value?"2px solid var(--primary)":"1px solid var(--border-color)",borderRadius:"var(--radius-md)",cursor:"pointer",textAlign:"center",background:j.courseType===e.value?"rgba(234, 179, 8, 0.15)":"var(--bg-tertiary)",transition:"all 0.2s ease"},children:[(0,s.jsx)("div",{style:{fontSize:"1.5rem",marginBottom:"0.25rem"},children:e.icon}),(0,s.jsx)("div",{style:{fontWeight:500,fontSize:"0.75rem",color:j.courseType===e.value?"var(--primary-light)":"var(--text-secondary)"},children:e.label})]},e.value))})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"fee",children:"Course Fee (â‚¹) *"}),(0,s.jsx)("input",{type:"number",id:"fee",name:"fee",value:j.fee,onChange:T,placeholder:"25000",min:"0",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"commissionPercent",children:"Commission (%) *"}),(0,s.jsx)("input",{type:"number",id:"commissionPercent",name:"commissionPercent",value:j.commissionPercent,onChange:T,placeholder:"10",min:"0",max:"100",required:!0})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"description",children:"Description"}),(0,s.jsx)("textarea",{id:"description",name:"description",value:j.description,onChange:T,placeholder:"Enter course description",rows:3})]}),(0,s.jsxs)("div",{className:"form-group",style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[(0,s.jsx)("input",{type:"checkbox",name:"isActive",id:"isActive",checked:j.isActive,onChange:T,style:{width:"auto"}}),(0,s.jsx)("label",{htmlFor:"isActive",style:{margin:0,cursor:"pointer"},children:"Course is Active"})]}),(0,s.jsxs)("div",{className:"flex gap-md",style:{marginTop:"var(--spacing-lg)"},children:[(0,s.jsx)("button",{type:"button",onClick:()=>d(!1),className:"btn btn-secondary",style:{flex:1},children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary ripple",style:{flex:1},disabled:p||!j.courseType,children:p?m?"Updating...":"Creating...":m?"âœ“ Update Course":"âœ“ Create Course"})]})]})]})})]})}e.s(["default",()=>i])}]);