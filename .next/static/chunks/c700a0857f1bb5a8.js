(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54503,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(22016);function t(){let[e,t]=(0,a.useState)([]),[d,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await fetch("/api/leads");if(e.ok){let s=await e.json();t(s.leads)}}catch(e){console.error("Failed to fetch leads:",e)}finally{r(!1)}},c=s=>e.filter(e=>e.status===s).length,i=e.length>0?((c("ENROLLED")+c("CLOSED"))/e.length*100).toFixed(1):0;return d?(0,s.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,s.jsx)("div",{className:"spinner"})}):(0,s.jsxs)("div",{className:"fade-in",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h1",{className:"page-title",children:"Center Dashboard"}),(0,s.jsx)("p",{className:"page-subtitle",children:"Manage incoming leads and track conversions"})]}),(0,s.jsxs)("div",{className:"grid grid-4",style:{marginBottom:"var(--spacing-xl)"},children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",children:e.length}),(0,s.jsx)("div",{className:"stat-label",children:"Total Leads"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value pulse",style:{color:"var(--primary-light)"},children:c("NEW")}),(0,s.jsx)("div",{className:"stat-label",children:"New (Pending)"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",style:{color:"var(--secondary)"},children:c("ENROLLED")+c("CLOSED")}),(0,s.jsx)("div",{className:"stat-label",children:"Enrolled"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsxs)("div",{className:"stat-value",children:[i,"%"]}),(0,s.jsx)("div",{className:"stat-label",children:"Conversion Rate"})]})]}),(0,s.jsxs)("div",{className:"grid grid-3",style:{marginBottom:"var(--spacing-xl)"},children:[(0,s.jsxs)("div",{className:"card",style:{borderTop:"3px solid var(--primary)"},children:[(0,s.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,s.jsx)("h4",{children:"New Leads"}),(0,s.jsx)("span",{className:"badge badge-new",children:c("NEW")})]}),(0,s.jsx)("div",{className:"progress-bar",children:(0,s.jsx)("div",{className:"progress-fill",style:{width:e.length>0?`${c("NEW")/e.length*100}%`:"0%"}})})]}),(0,s.jsxs)("div",{className:"card",style:{borderTop:"3px solid var(--accent)"},children:[(0,s.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,s.jsx)("h4",{children:"In Progress"}),(0,s.jsx)("span",{className:"badge badge-contacted",children:c("CONTACTED")+c("INTERESTED")})]}),(0,s.jsx)("div",{className:"progress-bar",children:(0,s.jsx)("div",{className:"progress-fill",style:{width:e.length>0?`${(c("CONTACTED")+c("INTERESTED"))/e.length*100}%`:"0%",background:"linear-gradient(90deg, var(--accent) 0%, var(--secondary) 100%)"}})})]}),(0,s.jsxs)("div",{className:"card",style:{borderTop:"3px solid var(--secondary)"},children:[(0,s.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,s.jsx)("h4",{children:"Converted"}),(0,s.jsx)("span",{className:"badge badge-enrolled",children:c("ENROLLED")+c("CLOSED")})]}),(0,s.jsx)("div",{className:"progress-bar",children:(0,s.jsx)("div",{className:"progress-fill",style:{width:e.length>0?`${(c("ENROLLED")+c("CLOSED"))/e.length*100}%`:"0%",background:"var(--secondary)"}})})]})]}),c("NEW")>0&&(0,s.jsxs)("div",{className:"alert alert-warning",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("span",{children:["âš ï¸ You have ",(0,s.jsxs)("strong",{children:[c("NEW")," new leads"]})," waiting to be processed!"]}),(0,s.jsx)(l.default,{href:"/center/leads",className:"btn btn-primary btn-sm",children:"Process Now"})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"card-header",children:[(0,s.jsx)("h3",{className:"card-title",children:"Recent Leads"}),(0,s.jsx)(l.default,{href:"/center/leads",className:"btn btn-secondary btn-sm",children:"View All"})]}),0===e.length?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"empty-state-icon",children:"ðŸ“¥"}),(0,s.jsx)("p",{children:"No leads yet. Leads will appear here when agents submit them."})]}):(0,s.jsx)("div",{className:"table-container",children:(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Student Name"}),(0,s.jsx)("th",{children:"Course"}),(0,s.jsx)("th",{children:"Agent"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Action"})]})}),(0,s.jsx)("tbody",{children:e.slice(0,5).map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontWeight:500},children:e.studentName}),(0,s.jsx)("td",{children:e.course?.name||"N/A"}),(0,s.jsx)("td",{children:e.agent?.name||"N/A"}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:`badge badge-${e.status.toLowerCase()}`,children:e.status})}),(0,s.jsx)("td",{style:{color:"var(--text-muted)"},children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{children:(0,s.jsx)(l.default,{href:`/center/leads?id=${e.id}`,className:"btn btn-secondary btn-sm",children:"Manage"})})]},e.id))})]})})]})]})}e.s(["default",()=>t])}]);