module.exports=[62,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=["NEW","CONTACTED","INTERESTED","ENROLLED","CLOSED","LOST"];function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)("ALL");(0,c.useEffect)(()=>{j()},[]);let j=async()=>{try{let a=await fetch("/api/leads");if(a.ok){let b=await a.json();e(b.leads)}}catch(a){console.error("Failed to fetch leads:",a)}finally{g(!1)}},k="ALL"===h?a:a.filter(a=>a.status===h);return f?(0,b.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,b.jsx)("div",{className:"spinner"})}):(0,b.jsxs)("div",{className:"fade-in",children:[(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{className:"page-title",children:"All Leads"}),(0,b.jsx)("p",{className:"page-subtitle",children:"Complete overview of all leads in the system"})]}),(0,b.jsxs)("div",{className:"grid grid-4",style:{marginBottom:"var(--spacing-xl)"},children:[(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",children:a.length}),(0,b.jsx)("div",{className:"stat-label",children:"Total Leads"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",style:{color:"var(--primary-light)"},children:a.filter(a=>"NEW"===a.status).length}),(0,b.jsx)("div",{className:"stat-label",children:"New"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",style:{color:"var(--secondary)"},children:a.filter(a=>["ENROLLED","CLOSED"].includes(a.status)).length}),(0,b.jsx)("div",{className:"stat-label",children:"Converted"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsxs)("div",{className:"stat-value",children:[a.length>0?(a.filter(a=>["ENROLLED","CLOSED"].includes(a.status)).length/a.length*100).toFixed(1):0,"%"]}),(0,b.jsx)("div",{className:"stat-label",children:"Conversion Rate"})]})]}),(0,b.jsxs)("div",{className:"flex gap-sm",style:{marginBottom:"var(--spacing-xl)",flexWrap:"wrap"},children:[(0,b.jsxs)("button",{className:`btn btn-sm ${"ALL"===h?"btn-primary":"btn-secondary"}`,onClick:()=>i("ALL"),children:["All (",a.length,")"]}),d.map(c=>(0,b.jsxs)("button",{className:`btn btn-sm ${h===c?"btn-primary":"btn-secondary"}`,onClick:()=>i(c),children:[c," (",a.filter(a=>a.status===c).length,")"]},c))]}),(0,b.jsx)("div",{className:"card",children:0===k.length?(0,b.jsxs)("div",{className:"empty-state",children:[(0,b.jsx)("div",{className:"empty-state-icon",children:"ðŸ“‹"}),(0,b.jsx)("p",{children:"No leads found"})]}):(0,b.jsx)("div",{className:"table-container",children:(0,b.jsxs)("table",{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Student"}),(0,b.jsx)("th",{children:"Contact"}),(0,b.jsx)("th",{children:"Course"}),(0,b.jsx)("th",{children:"Agent"}),(0,b.jsx)("th",{children:"Center"}),(0,b.jsx)("th",{children:"Status"}),(0,b.jsx)("th",{children:"Date"})]})}),(0,b.jsx)("tbody",{children:k.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{fontWeight:500},children:a.studentName}),(0,b.jsxs)("td",{children:[(0,b.jsx)("div",{children:a.phone}),a.email&&(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:a.email})]}),(0,b.jsxs)("td",{children:[(0,b.jsx)("div",{children:a.course?.name||"N/A"}),(0,b.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--secondary)"},children:["â‚¹",a.course?.fee?.toLocaleString()||"N/A"]})]}),(0,b.jsx)("td",{children:a.agent?.name||"N/A"}),(0,b.jsx)("td",{children:a.center?.name||"N/A"}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:`badge badge-${a.status.toLowerCase()}`,children:a.status})}),(0,b.jsx)("td",{style:{color:"var(--text-muted)"},children:new Date(a.createdAt).toLocaleDateString()})]},a.id))})]})})})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_admin_leads_page_tsx_53a7fe52._.js.map