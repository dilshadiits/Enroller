module.exports=[58749,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0);(0,c.useEffect)(()=>{h()},[]);let h=async()=>{try{let a=await fetch("/api/leads");if(a.ok){let b=await a.json();e(b.leads)}}catch(a){console.error("Failed to fetch leads:",a)}finally{g(!1)}},i=b=>a.filter(a=>a.status===b).length,j=a.length>0?((i("ENROLLED")+i("CLOSED"))/a.length*100).toFixed(1):0;return f?(0,b.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,b.jsx)("div",{className:"spinner"})}):(0,b.jsxs)("div",{className:"fade-in",children:[(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{className:"page-title",children:"Center Dashboard"}),(0,b.jsx)("p",{className:"page-subtitle",children:"Manage incoming leads and track conversions"})]}),(0,b.jsxs)("div",{className:"grid grid-4",style:{marginBottom:"var(--spacing-xl)"},children:[(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",children:a.length}),(0,b.jsx)("div",{className:"stat-label",children:"Total Leads"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value pulse",style:{color:"var(--primary-light)"},children:i("NEW")}),(0,b.jsx)("div",{className:"stat-label",children:"New (Pending)"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",style:{color:"var(--secondary)"},children:i("ENROLLED")+i("CLOSED")}),(0,b.jsx)("div",{className:"stat-label",children:"Enrolled"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsxs)("div",{className:"stat-value",children:[j,"%"]}),(0,b.jsx)("div",{className:"stat-label",children:"Conversion Rate"})]})]}),(0,b.jsxs)("div",{className:"grid grid-3",style:{marginBottom:"var(--spacing-xl)"},children:[(0,b.jsxs)("div",{className:"card",style:{borderTop:"3px solid var(--primary)"},children:[(0,b.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,b.jsx)("h4",{children:"New Leads"}),(0,b.jsx)("span",{className:"badge badge-new",children:i("NEW")})]}),(0,b.jsx)("div",{className:"progress-bar",children:(0,b.jsx)("div",{className:"progress-fill",style:{width:a.length>0?`${i("NEW")/a.length*100}%`:"0%"}})})]}),(0,b.jsxs)("div",{className:"card",style:{borderTop:"3px solid var(--accent)"},children:[(0,b.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,b.jsx)("h4",{children:"In Progress"}),(0,b.jsx)("span",{className:"badge badge-contacted",children:i("CONTACTED")+i("INTERESTED")})]}),(0,b.jsx)("div",{className:"progress-bar",children:(0,b.jsx)("div",{className:"progress-fill",style:{width:a.length>0?`${(i("CONTACTED")+i("INTERESTED"))/a.length*100}%`:"0%",background:"linear-gradient(90deg, var(--accent) 0%, var(--secondary) 100%)"}})})]}),(0,b.jsxs)("div",{className:"card",style:{borderTop:"3px solid var(--secondary)"},children:[(0,b.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,b.jsx)("h4",{children:"Converted"}),(0,b.jsx)("span",{className:"badge badge-enrolled",children:i("ENROLLED")+i("CLOSED")})]}),(0,b.jsx)("div",{className:"progress-bar",children:(0,b.jsx)("div",{className:"progress-fill",style:{width:a.length>0?`${(i("ENROLLED")+i("CLOSED"))/a.length*100}%`:"0%",background:"var(--secondary)"}})})]})]}),i("NEW")>0&&(0,b.jsxs)("div",{className:"alert alert-warning",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,b.jsxs)("span",{children:["âš ï¸ You have ",(0,b.jsxs)("strong",{children:[i("NEW")," new leads"]})," waiting to be processed!"]}),(0,b.jsx)(d.default,{href:"/center/leads",className:"btn btn-primary btn-sm",children:"Process Now"})]}),(0,b.jsxs)("div",{className:"card",children:[(0,b.jsxs)("div",{className:"card-header",children:[(0,b.jsx)("h3",{className:"card-title",children:"Recent Leads"}),(0,b.jsx)(d.default,{href:"/center/leads",className:"btn btn-secondary btn-sm",children:"View All"})]}),0===a.length?(0,b.jsxs)("div",{className:"empty-state",children:[(0,b.jsx)("div",{className:"empty-state-icon",children:"ðŸ“¥"}),(0,b.jsx)("p",{children:"No leads yet. Leads will appear here when agents submit them."})]}):(0,b.jsx)("div",{className:"table-container",children:(0,b.jsxs)("table",{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Student Name"}),(0,b.jsx)("th",{children:"Course"}),(0,b.jsx)("th",{children:"Agent"}),(0,b.jsx)("th",{children:"Status"}),(0,b.jsx)("th",{children:"Date"}),(0,b.jsx)("th",{children:"Action"})]})}),(0,b.jsx)("tbody",{children:a.slice(0,5).map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{style:{fontWeight:500},children:a.studentName}),(0,b.jsx)("td",{children:a.course?.name||"N/A"}),(0,b.jsx)("td",{children:a.agent?.name||"N/A"}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:`badge badge-${a.status.toLowerCase()}`,children:a.status})}),(0,b.jsx)("td",{style:{color:"var(--text-muted)"},children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsx)("td",{children:(0,b.jsx)(d.default,{href:`/center/leads?id=${a.id}`,className:"btn btn-secondary btn-sm",children:"Manage"})})]},a.id))})]})})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_center_page_tsx_cdc0584c._.js.map