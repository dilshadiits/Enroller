module.exports=[86123,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)("ALL");(0,c.useEffect)(()=>{i()},[]);let i=async()=>{try{let a=await fetch("/api/leads");if(a.ok){let b=await a.json();d(b.leads)}}catch(a){console.error("Failed to fetch leads:",a)}finally{f(!1)}},j="ALL"===g?a:a.filter(a=>a.status===g);return e?(0,b.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,b.jsx)("div",{className:"spinner"})}):(0,b.jsxs)("div",{className:"fade-in",children:[(0,b.jsx)("div",{className:"page-header flex-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"page-title",children:"My Leads"}),(0,b.jsx)("p",{className:"page-subtitle",children:"All leads you have collected"})]})}),(0,b.jsx)("div",{className:"flex gap-sm",style:{marginBottom:"var(--spacing-xl)",flexWrap:"wrap"},children:["ALL","NEW","CONTACTED","INTERESTED","ENROLLED","CLOSED","LOST"].map(a=>(0,b.jsx)("button",{className:`btn btn-sm ${g===a?"btn-primary":"btn-secondary"}`,onClick:()=>h(a),children:a},a))}),(0,b.jsx)("div",{className:"card",children:0===j.length?(0,b.jsxs)("div",{className:"empty-state",children:[(0,b.jsx)("div",{className:"empty-state-icon",children:"ðŸ“‹"}),(0,b.jsxs)("p",{children:["No leads found ","ALL"!==g?`with status "${g}"`:""]})]}):(0,b.jsx)("div",{className:"table-container",children:(0,b.jsxs)("table",{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Student Name"}),(0,b.jsx)("th",{children:"Phone"}),(0,b.jsx)("th",{children:"Course"}),(0,b.jsx)("th",{children:"Center"}),(0,b.jsx)("th",{children:"Fee"}),(0,b.jsx)("th",{children:"Status"}),(0,b.jsx)("th",{children:"Date"})]})}),(0,b.jsx)("tbody",{children:j.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{children:[(0,b.jsx)("div",{style:{fontWeight:500},children:a.studentName}),a.email&&(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:a.email})]}),(0,b.jsx)("td",{children:a.phone}),(0,b.jsx)("td",{children:a.course?.name||"N/A"}),(0,b.jsx)("td",{style:{color:"var(--primary-light)"},children:a.center?.name||"N/A"}),(0,b.jsxs)("td",{children:["â‚¹",a.course?.fee?.toLocaleString()||"N/A"]}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:`badge badge-${a.status.toLowerCase()}`,children:a.status})}),(0,b.jsx)("td",{style:{color:"var(--text-muted)"},children:new Date(a.createdAt).toLocaleDateString()})]},a.id))})]})})}),(0,b.jsxs)("div",{className:"grid grid-4",style:{marginTop:"var(--spacing-xl)"},children:[(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",children:a.filter(a=>"NEW"===a.status).length}),(0,b.jsx)("div",{className:"stat-label",children:"New"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",children:a.filter(a=>"INTERESTED"===a.status).length}),(0,b.jsx)("div",{className:"stat-label",children:"Interested"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",children:a.filter(a=>["ENROLLED","CLOSED"].includes(a.status)).length}),(0,b.jsx)("div",{className:"stat-label",children:"Converted"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",children:a.filter(a=>"LOST"===a.status).length}),(0,b.jsx)("div",{className:"stat-label",children:"Lost"})]})]})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=src_app_agent_leads_page_tsx_d35f9c77._.js.map