module.exports=[12242,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=[{value:"online_degree",label:"Online Degree",icon:"ðŸŽ“"},{value:"credit_transfer",label:"Credit Transfer",icon:"ðŸ”„"},{value:"skill_course",label:"Skill Course",icon:"ðŸ’¡"},{value:"vocational",label:"Vocational",icon:"ðŸ› ï¸"}];function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)({name:"",description:"",courseType:"",fee:"",commissionPercent:"",centerId:"",isActive:!0});(0,c.useEffect)(()=>{v(),w()},[]);let v=async()=>{try{let a=await fetch("/api/courses");if(a.ok){let b=await a.json();e(b.courses)}}catch(a){console.error("Failed to fetch courses:",a)}finally{i(!1)}},w=async()=>{try{let a=await fetch("/api/centers");if(a.ok){let b=await a.json();g(b.centers)}}catch(a){console.error("Failed to fetch centers:",a)}},x=()=>{m(null),u({name:"",description:"",courseType:"",fee:"",commissionPercent:"",centerId:"",isActive:!0}),q(""),k(!0)},y=a=>{let{name:b,value:c,type:d}=a.target;u(e=>({...e,[b]:"checkbox"===d?a.target.checked:c}))},z=async a=>{a.preventDefault(),q(""),s(""),o(!0);try{let a=l?`/api/courses/${l.id}`:"/api/courses",b=l?"PUT":"POST",c=await fetch(a,{method:b,headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,fee:Number(t.fee),commissionPercent:Number(t.commissionPercent)})}),d=await c.json();if(!c.ok)throw Error(d.error||"Operation failed");s(l?`Course "${t.name}" updated successfully!`:`Course "${t.name}" created successfully!`),k(!1),m(null),v(),setTimeout(()=>s(""),3e3)}catch(a){q(a instanceof Error?a.message:"Operation failed")}finally{o(!1)}},A=async a=>{if(confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`))try{let b=await fetch(`/api/courses/${a.id}`,{method:"DELETE"}),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to delete course");s(`Course "${a.name}" deleted successfully!`),v(),setTimeout(()=>s(""),3e3)}catch(a){q(a instanceof Error?a.message:"Failed to delete course"),setTimeout(()=>q(""),3e3)}},B=async a=>{try{if(!(await fetch(`/api/courses/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!a.isActive})})).ok)throw Error("Failed to update course");v()}catch(a){q(a instanceof Error?a.message:"Failed to update course"),setTimeout(()=>q(""),3e3)}},C=a.reduce((a,b)=>a+b.fee,0);return h?(0,b.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,b.jsx)("div",{className:"spinner"})}):(0,b.jsxs)("div",{className:"fade-in",children:[(0,b.jsx)("div",{className:"page-header",children:(0,b.jsxs)("div",{className:"flex-between",style:{alignItems:"flex-start"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"page-title",children:"Course Management"}),(0,b.jsx)("p",{className:"page-subtitle",children:"View and manage available courses"})]}),(0,b.jsx)("button",{className:"btn btn-primary ripple",onClick:x,children:"+ Add Course"})]})}),r&&(0,b.jsxs)("div",{className:"alert alert-success",style:{marginBottom:"var(--spacing-lg)"},children:["âœ“ ",r]}),p&&!j&&(0,b.jsxs)("div",{className:"alert alert-error",style:{marginBottom:"var(--spacing-lg)"},children:["âœ• ",p]}),(0,b.jsxs)("div",{className:"grid grid-4",style:{marginBottom:"var(--spacing-xl)"},children:[(0,b.jsxs)("div",{className:"stat-card hover-pop",children:[(0,b.jsx)("div",{className:"stat-value",children:a.length}),(0,b.jsx)("div",{className:"stat-label",children:"Total Courses"})]}),(0,b.jsxs)("div",{className:"stat-card hover-pop",children:[(0,b.jsx)("div",{className:"stat-value",style:{color:"var(--secondary)"},children:a.filter(a=>a.isActive).length}),(0,b.jsx)("div",{className:"stat-label",children:"Active Courses"})]}),(0,b.jsxs)("div",{className:"stat-card hover-pop",children:[(0,b.jsxs)("div",{className:"stat-value",children:["â‚¹",(C/a.length||0).toLocaleString()]}),(0,b.jsx)("div",{className:"stat-label",children:"Avg. Course Fee"})]}),(0,b.jsxs)("div",{className:"stat-card hover-pop",children:[(0,b.jsx)("div",{className:"stat-value",style:{color:"var(--accent)"},children:new Set(a.map(a=>a.courseType)).size}),(0,b.jsx)("div",{className:"stat-label",children:"Course Types"})]})]}),(0,b.jsx)("div",{className:"grid grid-3",children:a.map(a=>{let c,e=(c=a.courseType,d.find(a=>a.value===c)||{value:c,label:c,icon:"ðŸ“š"});return(0,b.jsxs)("div",{className:"card hover-lift",style:{borderTop:`3px solid ${a.isActive?"var(--secondary)":"var(--text-muted)"}`},children:[(0,b.jsxs)("div",{className:"flex-between",style:{marginBottom:"var(--spacing-md)"},children:[(0,b.jsx)("h3",{style:{fontSize:"1.125rem"},children:a.name}),(0,b.jsx)("span",{className:`badge ${a.isActive?"badge-enrolled":"badge-lost"}`,children:a.isActive?"Active":"Inactive"})]}),(0,b.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.75rem",background:"var(--bg-tertiary)",borderRadius:"var(--radius-full)",fontSize:"0.75rem",marginBottom:"var(--spacing-md)"},children:[(0,b.jsx)("span",{children:e.icon}),(0,b.jsx)("span",{children:e.label})]}),(0,b.jsx)("p",{style:{fontSize:"0.875rem",marginBottom:"var(--spacing-lg)",color:"var(--text-secondary)"},children:a.description||"No description available"}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"var(--spacing-md)",padding:"var(--spacing-md)",background:"var(--bg-tertiary)",borderRadius:"var(--radius-md)",marginBottom:"var(--spacing-lg)"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Fee"}),(0,b.jsxs)("div",{style:{fontWeight:600,color:"var(--secondary)"},children:["â‚¹",a.fee.toLocaleString()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Commission"}),(0,b.jsxs)("div",{style:{fontWeight:600},children:[a.commissionPercent,"%"]})]}),(0,b.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"Center"}),(0,b.jsxs)("div",{style:{fontWeight:500,color:"var(--primary-light)"},children:["ðŸ¢ ",a.center?.name||"N/A"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-sm",children:[(0,b.jsx)("button",{onClick:()=>{m(a),u({name:a.name,description:a.description||"",courseType:a.courseType||"",fee:String(a.fee),commissionPercent:String(a.commissionPercent),centerId:a.center?.id||"",isActive:a.isActive}),q(""),k(!0)},className:"btn btn-sm btn-secondary",style:{flex:1},children:"âœï¸ Edit"}),(0,b.jsx)("button",{onClick:()=>B(a),className:`btn btn-sm ${a.isActive?"btn-secondary":"btn-success"}`,title:a.isActive?"Deactivate":"Activate",children:a.isActive?"â¸ï¸":"â–¶ï¸"}),(0,b.jsx)("button",{onClick:()=>A(a),className:"btn btn-sm btn-danger",title:"Delete Course",children:"ðŸ—‘ï¸"})]})]},a.id)})}),0===a.length&&(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"empty-state",children:[(0,b.jsx)("div",{className:"empty-state-icon",children:"ðŸ“š"}),(0,b.jsx)("p",{children:"No courses available"}),(0,b.jsx)("button",{className:"btn btn-primary",style:{marginTop:"var(--spacing-md)"},onClick:x,children:"+ Add Your First Course"})]})}),j&&(0,b.jsx)("div",{className:"modal-overlay",onClick:()=>k(!1),children:(0,b.jsxs)("div",{className:"modal",onClick:a=>a.stopPropagation(),style:{maxWidth:"650px"},children:[(0,b.jsxs)("div",{className:"modal-header",children:[(0,b.jsx)("h2",{children:l?"Edit Course":"Add New Course"}),(0,b.jsx)("button",{className:"modal-close",onClick:()=>k(!1),children:"Ã—"})]}),p&&(0,b.jsx)("div",{className:"alert alert-error",children:p}),(0,b.jsxs)("form",{onSubmit:z,children:[(0,b.jsxs)("div",{className:"form-row",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"name",children:"Course Name *"}),(0,b.jsx)("input",{type:"text",id:"name",name:"name",value:t.name,onChange:y,placeholder:"Enter course name",required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"centerId",children:"Center *"}),(0,b.jsxs)("select",{id:"centerId",name:"centerId",value:t.centerId,onChange:y,required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select a center"}),f.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Course Type *"}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"var(--spacing-sm)",marginTop:"var(--spacing-sm)"},children:d.map(a=>(0,b.jsxs)("div",{onClick:()=>u({...t,courseType:a.value}),style:{padding:"var(--spacing-md)",border:t.courseType===a.value?"2px solid var(--primary)":"1px solid var(--border-color)",borderRadius:"var(--radius-md)",cursor:"pointer",textAlign:"center",background:t.courseType===a.value?"rgba(234, 179, 8, 0.15)":"var(--bg-tertiary)",transition:"all 0.2s ease"},children:[(0,b.jsx)("div",{style:{fontSize:"1.5rem",marginBottom:"0.25rem"},children:a.icon}),(0,b.jsx)("div",{style:{fontWeight:500,fontSize:"0.75rem",color:t.courseType===a.value?"var(--primary-light)":"var(--text-secondary)"},children:a.label})]},a.value))})]}),(0,b.jsxs)("div",{className:"form-row",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"fee",children:"Course Fee (â‚¹) *"}),(0,b.jsx)("input",{type:"number",id:"fee",name:"fee",value:t.fee,onChange:y,placeholder:"25000",min:"0",required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"commissionPercent",children:"Commission (%) *"}),(0,b.jsx)("input",{type:"number",id:"commissionPercent",name:"commissionPercent",value:t.commissionPercent,onChange:y,placeholder:"10",min:"0",max:"100",required:!0})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"description",children:"Description"}),(0,b.jsx)("textarea",{id:"description",name:"description",value:t.description,onChange:y,placeholder:"Enter course description",rows:3})]}),(0,b.jsxs)("div",{className:"form-group",style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[(0,b.jsx)("input",{type:"checkbox",name:"isActive",id:"isActive",checked:t.isActive,onChange:y,style:{width:"auto"}}),(0,b.jsx)("label",{htmlFor:"isActive",style:{margin:0,cursor:"pointer"},children:"Course is Active"})]}),(0,b.jsxs)("div",{className:"flex gap-md",style:{marginTop:"var(--spacing-lg)"},children:[(0,b.jsx)("button",{type:"button",onClick:()=>k(!1),className:"btn btn-secondary",style:{flex:1},children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary ripple",style:{flex:1},disabled:n||!t.courseType,children:n?l?"Updating...":"Creating...":l?"âœ“ Update Course":"âœ“ Create Course"})]})]})]})})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_admin_courses_page_tsx_8a720fba._.js.map