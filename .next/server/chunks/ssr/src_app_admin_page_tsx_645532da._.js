module.exports=[10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0);(0,c.useEffect)(()=>{l()},[]);let l=async()=>{try{let[a,b,c]=await Promise.all([fetch("/api/leads"),fetch("/api/payouts"),fetch("/api/users")]);if(a.ok){let b=await a.json();e(b.leads)}if(b.ok){let a=await b.json();g(a.payouts)}if(c.ok){let a=await c.json();i(a.users)}}catch(a){console.error("Failed to fetch data:",a)}finally{k(!1)}},m=b=>a.filter(a=>a.status===b).length,n=f.filter(a=>"REQUESTED"===a.status),o=n.reduce((a,b)=>a+b.totalAmount,0),p=h.filter(a=>"AGENT"===a.role).length,q=h.filter(a=>"CENTER"===a.role).length;return j?(0,b.jsx)("div",{className:"flex-center",style:{padding:"4rem"},children:(0,b.jsx)("div",{className:"spinner"})}):(0,b.jsxs)("div",{className:"fade-in",children:[(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{className:"page-title",children:"Admin Dashboard"}),(0,b.jsx)("p",{className:"page-subtitle",children:"System overview and management"})]}),(0,b.jsxs)("div",{className:"grid grid-4",style:{marginBottom:"var(--spacing-xl)"},children:[(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",children:a.length}),(0,b.jsx)("div",{className:"stat-label",children:"Total Leads"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",style:{color:"var(--primary-light)"},children:p}),(0,b.jsx)("div",{className:"stat-label",children:"Active Agents"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",style:{color:"var(--secondary)"},children:q}),(0,b.jsx)("div",{className:"stat-label",children:"Training Centers"})]}),(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-value",style:{color:"var(--accent)"},children:n.length}),(0,b.jsx)("div",{className:"stat-label",children:"Pending Payouts"})]})]}),n.length>0&&(0,b.jsxs)("div",{className:"alert alert-warning",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,b.jsxs)("span",{children:["âš ï¸ You have ",(0,b.jsxs)("strong",{children:[n.length," payout requests"]})," totaling ",(0,b.jsxs)("strong",{children:["â‚¹",o.toLocaleString()]})]}),(0,b.jsx)(d.default,{href:"/admin/payouts",className:"btn btn-primary btn-sm",children:"Review Payouts"})]}),(0,b.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"2fr 1fr",gap:"var(--spacing-xl)"},children:[(0,b.jsxs)("div",{className:"card",children:[(0,b.jsxs)("div",{className:"card-header",children:[(0,b.jsx)("h3",{className:"card-title",children:"Lead Pipeline"}),(0,b.jsx)(d.default,{href:"/admin/leads",className:"btn btn-secondary btn-sm",children:"View All"})]}),(0,b.jsxs)("div",{className:"grid grid-3",style:{gap:"var(--spacing-md)"},children:[(0,b.jsxs)("div",{style:{padding:"var(--spacing-md)",background:"rgba(99, 102, 241, 0.1)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--primary-light)"},children:m("NEW")}),(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"NEW"})]}),(0,b.jsxs)("div",{style:{padding:"var(--spacing-md)",background:"rgba(245, 158, 11, 0.1)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--accent)"},children:m("CONTACTED")+m("INTERESTED")}),(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"IN PROGRESS"})]}),(0,b.jsxs)("div",{style:{padding:"var(--spacing-md)",background:"rgba(16, 185, 129, 0.1)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[(0,b.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"var(--secondary)"},children:m("ENROLLED")+m("CLOSED")}),(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:"CONVERTED"})]})]}),(0,b.jsxs)("div",{style:{marginTop:"var(--spacing-lg)"},children:[(0,b.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-muted)",marginBottom:"var(--spacing-sm)"},children:"Conversion Rate"}),(0,b.jsx)("div",{className:"progress-bar",style:{height:"12px"},children:(0,b.jsx)("div",{className:"progress-fill",style:{width:a.length>0?`${(m("ENROLLED")+m("CLOSED"))/a.length*100}%`:"0%"}})}),(0,b.jsxs)("div",{style:{textAlign:"right",marginTop:"var(--spacing-xs)",fontSize:"0.875rem",fontWeight:600},children:[a.length>0?((m("ENROLLED")+m("CLOSED"))/a.length*100).toFixed(1):0,"%"]})]})]}),(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h3",{className:"card-title",style:{marginBottom:"var(--spacing-lg)"},children:"Quick Actions"}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[(0,b.jsx)(d.default,{href:"/admin/users",className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ‘¥ Manage Users"}),(0,b.jsx)(d.default,{href:"/admin/payouts",className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ’³ Process Payouts"}),(0,b.jsx)(d.default,{href:"/admin/courses",className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ“š Manage Courses"}),(0,b.jsx)(d.default,{href:"/admin/leads",className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ“‹ View All Leads"})]})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_admin_page_tsx_645532da._.js.map