{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/EDMAN/src/app/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(formData),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.error || 'Login failed');\r\n            }\r\n\r\n            // Redirect based on role\r\n            switch (data.user.role) {\r\n                case 'ADMIN':\r\n                    router.push('/admin');\r\n                    break;\r\n                case 'AGENT':\r\n                    router.push('/agent');\r\n                    break;\r\n                case 'CENTER':\r\n                    router.push('/center');\r\n                    break;\r\n                default:\r\n                    router.push('/');\r\n            }\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Login failed');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ minHeight: '100vh', display: 'flex', flexDirection: 'column' }}>\r\n            <nav className=\"navbar\">\r\n                <Link href=\"/\" className=\"nav-brand\">Enroller</Link>\r\n            </nav>\r\n\r\n            <main className=\"container flex-center\" style={{ flex: 1 }}>\r\n                <div className=\"card fade-in rainbow-glow\" style={{\r\n                    maxWidth: '440px',\r\n                    width: '100%',\r\n                    position: 'relative',\r\n                    overflow: 'visible'\r\n                }}>\r\n                    {/* Decorative glow */}\r\n                    <div style={{\r\n                        position: 'absolute',\r\n                        top: '-50%',\r\n                        left: '50%',\r\n                        transform: 'translateX(-50%)',\r\n                        width: '300px',\r\n                        height: '300px',\r\n                        background: 'radial-gradient(circle, rgba(124, 58, 237, 0.3) 0%, transparent 70%)',\r\n                        pointerEvents: 'none',\r\n                        zIndex: -1\r\n                    }} />\r\n\r\n                    <div style={{ textAlign: 'center', marginBottom: 'var(--spacing-xl)' }}>\r\n                        <div style={{\r\n                            width: '60px',\r\n                            height: '60px',\r\n                            background: 'linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)',\r\n                            borderRadius: '1rem',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            margin: '0 auto var(--spacing-lg)',\r\n                            fontSize: '1.5rem',\r\n                            boxShadow: '0 0 40px rgba(124, 58, 237, 0.4)'\r\n                        }}>\r\n                            üîê\r\n                        </div>\r\n                        <h1 style={{\r\n                            marginBottom: 'var(--spacing-sm)',\r\n                            background: 'linear-gradient(135deg, var(--text-primary) 0%, var(--primary-light) 100%)',\r\n                            WebkitBackgroundClip: 'text',\r\n                            WebkitTextFillColor: 'transparent',\r\n                            backgroundClip: 'text'\r\n                        }}>Welcome Back</h1>\r\n                        <p>Sign in to your account</p>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"alert alert-error\">{error}</div>\r\n                    )}\r\n\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email\">Email Address</label>\r\n                            <input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                placeholder=\"you@example.com\"\r\n                                value={formData.email}\r\n                                onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <input\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                                value={formData.password}\r\n                                onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"btn btn-primary ripple\"\r\n                            style={{ width: '100%', marginTop: 'var(--spacing-md)', padding: '1rem' }}\r\n                            disabled={loading}\r\n                        >\r\n                            {loading ? (\r\n                                <span className=\"flex-center gap-sm\">\r\n                                    <span className=\"spinner\" style={{ width: '20px', height: '20px' }}></span>\r\n                                    Signing in...\r\n                                </span>\r\n                            ) : (\r\n                                'Sign In ‚Üí'\r\n                            )}\r\n                        </button>\r\n                    </form>\r\n\r\n                    {/* Contact admin for account */}\r\n                    <div style={{ textAlign: 'center', marginTop: 'var(--spacing-xl)' }}>\r\n                        <p style={{ fontSize: '0.875rem', color: 'var(--text-muted)' }}>\r\n                            Need an account? Contact your administrator.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Demo credentials */}\r\n                    <div style={{\r\n                        marginTop: 'var(--spacing-xl)',\r\n                        padding: 'var(--spacing-lg)',\r\n                        background: 'linear-gradient(135deg, rgba(124, 58, 237, 0.1) 0%, rgba(6, 182, 212, 0.05) 100%)',\r\n                        borderRadius: 'var(--radius-lg)',\r\n                        border: '1px solid rgba(124, 58, 237, 0.2)'\r\n                    }}>\r\n                        <p style={{ fontWeight: 700, marginBottom: 'var(--spacing-md)', color: 'var(--primary-light)', fontSize: '0.875rem', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\r\n                            ‚ú® Demo Accounts\r\n                        </p>\r\n                        <div style={{ display: 'grid', gap: 'var(--spacing-sm)', fontSize: '0.875rem' }}>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                <span style={{ color: 'var(--text-muted)' }}>Admin:</span>\r\n                                <span style={{ color: 'var(--text-primary)' }}>admin@edman.com</span>\r\n                            </div>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                <span style={{ color: 'var(--text-muted)' }}>Agent:</span>\r\n                                <span style={{ color: 'var(--text-primary)' }}>agent@edman.com</span>\r\n                            </div>\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                <span style={{ color: 'var(--text-muted)' }}>Center:</span>\r\n                                <span style={{ color: 'var(--text-primary)' }}>center@edman.com</span>\r\n                            </div>\r\n                            <div style={{ marginTop: 'var(--spacing-sm)', paddingTop: 'var(--spacing-sm)', borderTop: '1px solid var(--border-color)' }}>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                    <span style={{ color: 'var(--text-muted)' }}>Password:</span>\r\n                                    <code style={{\r\n                                        background: 'rgba(16, 185, 129, 0.2)',\r\n                                        padding: '0.25rem 0.5rem',\r\n                                        borderRadius: '0.25rem',\r\n                                        color: 'var(--success-light)',\r\n                                        fontFamily: 'monospace'\r\n                                    }}>admin123</code>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}